/*! jSmarty 2014-03-25 */
(function(e){if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var t=module.exports||exports;e(t,"node")}else"function"==typeof define&&define.amd?define(["exports"],e):e(window.NC={})})(function(e,t){function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(e){var t=e.replace(/([\r\n])/gi,"\\n").replace(/\s{2,}/gi," ").replace(/\'/gi,"\\'");return t}function a(e){var t=e.replace(/[\"|\']/gi,"");return t}function i(e,t){function r(e,t,r){var n,a=o[t];a!==void 0&&(n=a-u.getDay(),0===n?n=7*r:n>0&&"last"===e?n-=7:0>n&&"next"===e&&(n+=7),u.setDate(u.getDate()+n))}function n(e){var t=e.split(" "),n=t[0],a=t[1].substring(0,3),i=/\d+/.test(n),s="ago"===t[2],c=("last"===n?-1:1)*(s?-1:1);if(i&&(c*=parseInt(n,10)),h.hasOwnProperty(a)&&!t[1].match(/^mon(day|\.)?$/i))return u["set"+h[a]](u["get"+h[a]]()+c);if("wee"===a)return u.setDate(u.getDate()+7*c);if("next"===n||"last"===n)r(n,a,c);else if(!i)return!1;return!0}var a,i,s,c,u,o,h,l,f,p,d,g=!1;if(!e)return g;if(e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase(),i=e.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/),i&&i[2]===i[4])if(i[1]>1901)switch(i[2]){case"-":return i[3]>12||i[5]>31?g:new Date(i[1],parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3;case".":return g;case"/":return i[3]>12||i[5]>31?g:new Date(i[1],parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}else if(i[5]>1901)switch(i[2]){case"-":return i[3]>12||i[1]>31?g:new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3;case".":return i[3]>12||i[1]>31?g:new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3;case"/":return i[1]>12||i[3]>31?g:new Date(i[5],parseInt(i[1],10)-1,i[3],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3}else switch(i[2]){case"-":return i[3]>12||i[5]>31||70>i[1]&&i[1]>38?g:(c=i[1]>=0&&38>=i[1]?+i[1]+2e3:i[1],new Date(c,parseInt(i[3],10)-1,i[5],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3);case".":return i[5]>=70?i[3]>12||i[1]>31?g:new Date(i[5],parseInt(i[3],10)-1,i[1],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3:60>i[5]&&!i[6]?i[1]>23||i[3]>59?g:(s=new Date,new Date(s.getFullYear(),s.getMonth(),s.getDate(),i[1]||0,i[3]||0,i[5]||0,i[9]||0)/1e3):g;case"/":return i[1]>12||i[3]>31||70>i[5]&&i[5]>38?g:(c=i[5]>=0&&38>=i[5]?+i[5]+2e3:i[5],new Date(c,parseInt(i[1],10)-1,i[3],i[6]||0,i[7]||0,i[8]||0,i[9]||0)/1e3);case":":return i[1]>23||i[3]>59||i[5]>59?g:(s=new Date,new Date(s.getFullYear(),s.getMonth(),s.getDate(),i[1]||0,i[3]||0,i[5]||0)/1e3)}if("now"===e)return null===t||isNaN(t)?0|(new Date).getTime()/1e3:0|t;if(!isNaN(a=Date.parse(e)))return 0|a/1e3;if(u=t?new Date(1e3*t):new Date,o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},h={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},f="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",p="([+-]?\\d+\\s"+f+"|"+"(last|next)\\s"+f+")(\\sago)?",i=e.match(RegExp(p,"gi")),!i)return g;for(d=0,l=i.length;l>d;d++)if(!n(i[d]))return g;return u.getTime()/1e3}function s(e,t,r,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,i=isFinite(+t)?Math.abs(t):0,s=n===void 0?",":n,c=r===void 0?".":r,u="",o=function(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r};return u=(i?o(a,i):""+Math.round(a)).split("."),u[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),i>(u[1]||"").length&&(u[1]=u[1]||"",u[1]+=Array(i-u[1].length+1).join("0")),u.join(c)}function c(e){return e=""+(e+""),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function u(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,r=0,n=t[r++],a=function(e,t,r,n){r||(r=" ");var a=e.length>=t?"":Array(1+t-e.length>>>0).join(r);return n?e+a:a+e},i=function(e,t,r,n,i,s){var c=n-e.length;return c>0&&(e=r||!i?a(e,n,s,r):e.slice(0,t.length)+a("",c,"0",!0)+e.slice(t.length)),e},s=function(e,t,r,n,s,c,u){var o=e>>>0;return r=r&&o&&{2:"0b",8:"0",16:"0x"}[t]||"",e=r+a(o.toString(t),c||0,"0",!1),i(e,r,n,s,u)},c=function(e,t,r,n,a,s){return null!=n&&(e=e.slice(0,n)),i(e,"",t,r,a,s)},u=function(e,n,u,o,h,l,f){var p,d,g,v,x;if("%%"===e)return"%";for(var m=!1,w="",b=!1,y=!1,_=" ",k=u.length,C=0;u&&k>C;C++)switch(u.charAt(C)){case" ":w=" ";break;case"+":w="+";break;case"-":m=!0;break;case"'":_=u.charAt(C+1);break;case"0":b=!0,_="0";break;case"#":y=!0}if(o=o?"*"===o?+t[r++]:"*"==o.charAt(0)?+t[o.slice(1,-1)]:+o:0,0>o&&(o=-o,m=!0),!isFinite(o))throw Error("sprintf: (minimum-)width must be finite");switch(l=l?"*"===l?+t[r++]:"*"==l.charAt(0)?+t[l.slice(1,-1)]:+l:"fFeE".indexOf(f)>-1?6:"d"===f?0:void 0,x=n?t[n.slice(0,-1)]:t[r++],f){case"s":return c(x+"",m,o,l,b,_);case"c":return c(String.fromCharCode(+x),m,o,l,b);case"b":return s(x,2,y,m,o,l,b);case"o":return s(x,8,y,m,o,l,b);case"x":return s(x,16,y,m,o,l,b);case"X":return s(x,16,y,m,o,l,b).toUpperCase();case"u":return s(x,10,y,m,o,l,b);case"i":case"d":return p=+x||0,p=Math.round(p-p%1),d=0>p?"-":w,x=d+a(Math.abs(p)+"",l,"0",!1),i(x,d,m,o,b);case"e":case"E":case"f":case"F":case"g":case"G":return p=+x,d=0>p?"-":w,g=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],v=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],x=d+Math.abs(p)[g](l),i(x,d,m,o,b)[v]();default:return e}};return n.replace(e,u)}function o(e,t,r){function n(e,t){if(":"!=r[e+1])return s++,"";for(var n=[],a=e+1;r.length>a&&":"==r[a];a++)n.push(r[a+1]),a+=1;return s=a-1,t&&0!=n.length&&n.unshift(""),n.join(",")}for(var a=[t],i=t,s=e+1;r.length>s&&"|"==r[s];s++)"default"==r[s+1]?(i='((typeof({_value_})==="undefined"|| {_value_}===null)?{_replace_}:{_value_})'.replace(/\{_value_\}/gi,a[a.length-1]),i=i.replace("{_replace_}",n(s+1))):i="$util."+r[s+1]+"("+a[a.length-1]+n(s+1,!0)+")",a.pop(),a.push(i);return r.idx=s,a.join("")}function h(e,t,r){r=r||0;for(var n=r;t.length>n;n++)if(t[n]==e)return t.idx=n,t.slice(r,n).join(" ");return t.idx=t.length,t.slice(r).join(" ")}function l(e,t,r){var n,a="";n=p.getContentText(e);for(var i=/<!--\s*template\s*-->([\s|\S]*?)<!--\s*\/template\s*-->/gi,s=n.match(i);s=i.exec(n);)a+=s[1];var a=g.HTMLFilter(a,e,t,r);return a}function f(e,t){this._tokens=e,this._output="",this._vars=t||{}}var p,d,g,v,x=function(){function e(t,n){return(n+"").replace(/%([a-zA-Z ])/g,function(n,a){var i=r&&r[a];return"function"==typeof i?i.call(r,t):"string"==typeof i?e(i):a})}function t(e){return(10>+e?"0":"")+e}var r={d:function(e){return t(e.getDate())},m:function(e){return t(e.getMonth()+1)},y:function(e){return e.getYear()%100},Y:function(e){return e.getFullYear()},F:"%Y-%m-%d",D:"%m/%d/%y"};return e}(),m=e!==void 0?e:{};"node"==t&&(p=require("./file"),d=require("path"),g=require("./pages"),v=require("./util"));var w=Object.prototype,b=w.toString,y=function(){this._tokens=[],this._included=[],this._basePath="",this._vars={}};y.prototype.startTag="{",y.prototype.endTag="}",y.prototype.setBasePath=function(e){return this._basePath=e,this},y.prototype.setIncluded=function(e){return this._included.push(e),this},y.prototype.getIncluded=function(){return this._included},y.prototype.parse=function(e){for(var t,n=r(this.startTag)+"(?:\\s*)((?:[\\/\\$\"\\'])*[\\w\\*\"\\']+)(?:\\s*)(.*?)(?:\\1*)(?:\\s*)"+r(this.endTag),a=RegExp(n,"gim"),i=[],s=0;t=a.exec(e);)s!=t.index&&i.push({type:"text",value:e.substring(s,t.index),matched:e.substring(s,t.index),index:s}),i.push({type:"expression",expr:t[1],value:t[2],matched:t[0],index:t.index}),s=t.index+t[0].length;return i.push({type:"text",value:e.substring(s),matched:e.substring(s),index:s}),this.parser=new f(i,this._vars),this.parser.parse(this)},y.prototype.proc=function(e,t){var r,n;try{this._vars=t,n=this.parse(e),r=Function("$data","$util",n+';return _out.join("");')}catch(a){throw Error("模板解析出错"+a.message)}if(!t)return function(e){var t=_;return r(e,t)};var i=r.call(this,t,_);return i};var _={date_format:function(e,t,r){if(!e&&!r)return"date_format语法错误";var n=e||r;"number"!=typeof n&&(n=i(n),n&&(n*=1e3));var a=x(new Date(n),t||"%Y/%m/%d");return a},truncate:function(e,t,r,n,a){return t=t?t:80,r=null!=r?r:"...",t>=e.length?e:(t-=Math.min(t,r.length),a?e.slice(0,Math.floor(t/2))+r+e.slice(e.length-Math.floor(t/2)):(n||(e=e.slice(0,t+1).replace(/\s+?(\S+)?$/,"")),e.slice(0,t)+r))},"default":function(e,t){return e||t||""},spacify:function(e,t){return t||(t=" "),e.replace(/(\n|.)(?!$)/g,"$1"+t)},nl2br:function(e){return e.replace(/\n/g,"<br />\n")},capitalize:function(e,t){var r=RegExp(t?"[\\W\\d]+":"\\W+"),n=null,a="";for(n=e.match(r);n;n=e.match(r)){var i=e.slice(0,n.index);a+=i.match(/\d/)?i:i.charAt(0).toUpperCase()+i.slice(1),a+=e.slice(n.index,n.index+n[0].length),e=e.slice(n.index+n[0].length)}return e.match(/\d/)?a+e:a+e.charAt(0).toUpperCase()+e.slice(1)},upper:function(e){return e.toUpperCase()},wordwrap:function(e,t,r,n){t=t||80,r=r||"\n";for(var a=e.split("\n"),i=0;a.length>i;++i){for(var s=a[i],c="";s.length>t;){for(var u=0,o=s.slice(u).match(/\s+/);o&&t>=u+o.index;o=s.slice(u).match(/\s+/))u+=o.index+o[0].length;u=u||(n?t:o?o.index+o[0].length:s.length),c+=s.slice(0,u).replace(/\s+$/,""),s.length>u&&(c+=r),s=s.slice(u)}a[i]=c+s}return a.join("\n")},cat:function(e,t){return t=t?t:"",e+t},count_paragraphs:function(e){var t=e.match(/\n+/g);return t?t.length+1:1},strlen:function(e){return e.length},count_sentences:function(e){var t=e.match(/[^\s]\.(?!\w)/g);return t?t.length:0},lower:function(e){return e.toLowerCase()},count_words:function(e){var t=e.match(/\w+/g);return t?t.length:0},indent:function(e,t,r){t=t?t:4,r=r?r:" ";for(var n="";t--;)n+=r;var a=e.match(/\n+$/);return n+e.replace(/\n+$/,"").replace(/\n/g,"\n"+n)+(a?a[0]:"")},replace:function(e,t,r){if(!t)return e;e=new String(e),t=new String(t),r=new String(r);var n="",a=-1;for(a=e.indexOf(t);a>=0;a=e.indexOf(t))n+=e.slice(0,a)+r,a+=t.length,e=e.slice(a);return n+e},regex_replace:function(e,t,r){var n=t.match(/^ *\/(.*)\/(.*) *$/);return new String(e).replace(RegExp(n[1],"g"+(n.length>1?n[2]:"")),r)},noprint:function(){return""},strip:function(e,t){return t=t?t:" ",new String(e).replace(/[\s]+/g,t)},strip_tags:function(e,t){return t=null==t?!0:t,new String(e).replace(/<[^>]*?>/g,t?" ":"")},string_format:function(e,t){return u(t,e)},escape:function(e,t,r,n){switch(e=new String(e),t=t||"html",r=r||"UTF-8",n=n!==void 0?Boolean(n):!0,t){case"html":return n&&(e=e.replace(/&/g,"&amp;")),e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;");case"url":return c(e);case"urlpathinfo":return c(e).replace(/%2F/g,"/");case"quotes":return e.replace(/(^|[^\\])'/g,"$1\\'");case"javascript":return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/<\//g,"</")}return e},fsize_format:function(e,t,r){t=t||"",r=r||2;var n={TB:1099511627776,GB:1073741824,MB:1048576,KB:1024,B:1},a="";for(var i in n)if(e>n[i]||i==this.upper(t)){a=s(e/n[i],r)+" "+i;break}return a}};_.expr=function(e){var t=new k(e),r=t.read();if(1>r.length)return e;var n="";for(r.idx=0;r.idx<r.length;)"|"==r[r.idx+1]?n+=o(r.idx,r[r.idx],r):(n+=r[r.idx],r.idx++);return n},_.value=function(e){return"[object Object]"===b.call(e)||"[object Array]"===b.call(e)?JSON.stringify(e):e},m.reMarker=y;var k=function(e){this.inChars=e||"",this.words=[]};k.prototype={start:0,end:0,VAR_REGEXP:/[\w\-]/i,read:function(){for(var e=this.inChars.length,t=0;e>=this.start;){var r=this.inChars.charAt(this.start);if(t++,t>100){console.log("%s,%d",this.inChars,this.start);break}switch(r){case"	":case"\r":case" ":this.start++;break;case"$":this.start=this.findVariable(this.start+1,this.words);continue;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"H":case"I":case"J":case"K":case"L":case"M":case"N":case"O":case"P":case"Q":case"R":case"S":case"T":case"U":case"V":case"W":case"X":case"Y":case"Z":case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"h":case"i":case"j":case"k":case"l":case"m":case"n":case"o":case"p":case"q":case"r":case"s":case"t":case"u":case"v":case"w":case"x":case"y":case"z":case"_":case"@":this.start=this.findIdentifier(this.start,this.words);continue;case"!":case"=":case">":case"<":case"|":case"&":this.start=this.findOperation(this.start+1,r,this.words);continue;case'"':case"'":this.start=this.findString(this.start+1,this.words);continue;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":this.start=this.findNumber(this.start,this.words);continue;case"+":case"-":case"*":case"/":case"%":case"(":case")":this.start++,this.words.push(r);break;case":":this.start++,this.words.push(":");continue;default:this.start++;continue}}return console&&console.log(this.inChars),console&&console.log(JSON.stringify(this.words)),this.words},skip:function(){},checkVariable:function(e){return e.match(this.VAR_REGEXP)},checkModifier:function(e){return":"!=e},findNumber:function(e,t){for(var r=this.inChars.length,n="",a=e;r>a;a++){var i=this.inChars.charAt(a);if(!(n.length>0&&"."===i||parseInt(i)==i))break;n+=i}return t&&t.push(n),a},findIdentifier:function(e,t){for(var r=this.inChars.length,n="",a=e;r>a;a++){var i=this.inChars.charAt(a);if(!this.checkVariable(i))break;n+=i}return t&&t.push(n),a},findVariable:function(e,t){for(var r=this.inChars.length,n="",a=e;r>a;a++){var i=this.inChars.charAt(a);if(this.checkVariable(i))n+=i;else if("."==i){var s=this.findIdentifier(a+1);if(s==a+1)throw Error("属性写法不正确:"+this.inChars);n+=this.inChars.substring(a,s),a=s-1}else{if("["!=i)break;var c=this.inChars.substring(a);if(c=c.substring(1,c.indexOf("]")),!c)throw Error("属性写法不正确:"+this.inChars);var u=new k(c),o=u.read();if(0==o.length)throw Error("属性写法不正确:"+this.inChars);n+=this.inChars.substr(a,c.length+2),a=a+c.length+1}}return t&&t.push(n),a},findString:function(e,t){for(var r=this.inChars.length,n="",a=e;r>a;a++){var i=this.inChars.charAt(a);if("'"!=i&&'"'!=i)n+=i;else{if("\\"!=i||"'"!=this.inChars.charAt(a+1)&&'"'!=this.inChars.charAt(a+1)){a++;break}n+="\\'",a++}}return t&&t.push("'"+n+"'"),a},findOperation:function(e,t,r){for(var n=this.inChars.length,a=e;n>a;a++){var i=this.inChars.charAt(a);if("="==i||"|"==i||"&"==i){t+=i,a++,"="==this.inChars.charAt(a)&&(t+=i,a++);break}break}return r&&r.push(t),a}},f.openEachTag=0,f.openLiteralTag=0,f.prototype.parse=function(e){this._reMarker=e||{},this._output="var _out=[];with($data){";for(var t=0;this._tokens.length>t;t++){var r=this._tokens[t];if("/literal"!=r.expr)if("text"==r.type||f.openLiteralTag>0)this._output+="_out.push('"+n(r.matched)+"');\r\n";else{var a=r.expr;a="elseif"==a?"if":a;var i=r.value;if(this.functions[a])this._output+=this.functions[a].call(this,r.matched,this.getAttributes(i));else{var s=r.matched.substring(this._reMarker.startTag.length,r.matched.length-this._reMarker.endTag.length);this._output+="_out.push($util.value("+_.expr(s,f.openEachTag)+"));\r\n"}}else this.functions[r.expr].call(this,i,this.getAttributes(i))}return this._output+="};",this._output},f.prototype.getAttributes=function(e){if(!e)return[];var t=new k(e),r=t.read();return r},f.prototype.needSkip=function(e){var t=!1;switch(e){case"":case"index":case"input":case"__proto__":t=!0}return t},f.prototype.functions={"*":function(){return""},"/foreach":function(){var e=[];return e.push("}/*for end*/}/*if end*/"),e.push("}();"),f.openEachTag--,e.join("\r\n")},include:function(e,r){if(!r||3>r.length)return"include语法错误"+e;var i,s,c,u={};for(r.idx=0;r.idx<r.length;)s=a(r[r.idx]),c=o(r.idx+2,r[r.idx+2],r),u[s]=c,"file"!=s&&(i=s);if("node"!=t)return'_out.push("include语法不被支持");';if(!u.file)return"include语法错误"+e;var h=d.normalize(d.join(this._reMarker._basePath,a(u.file))),e=l(h,this._reMarker._basePath,u);return this._reMarker.setIncluded(h),i?(this._vars[i]=e,"var "+i+"='"+n(e)+"';"):"_out.push('"+n(e)+"');"},assign:function(e,t){if(!t||3>t.length)return"assign语法错误"+e;var r=[];for(t.idx=0;t.idx<t.length;)r.push(o(t.idx,t[t.idx],t));var n,i,s={};for(r.idx=0;r.idx<r.length;)n=r[r.idx],"var"==n&&(i=h("value",r,r.idx+2)),"value"==n&&(i=h("var",r,r.idx+2)),s[n]=i;var i=s.value,n=a(s["var"]);return this._vars[n]=i,"var "+n+"="+i+";"},foreachelse:function(){return"}}else{{"},foreach:function(e,t){var r,n,i={};for(t.idx=0;t.idx<t.length;)r=t[t.idx],n=o(t.idx+2,t[t.idx+2],t),i[r]=n;var s=i.from,c=i.item;if(!s&&!c)return"assign语法错误"+e;var r=i.key||"k"+Math.round(1e4*Math.random()),u=i.name||"n"+Math.round(1e4*Math.random());u=a(u),r=a(r),s=a(s),c=a(c);var h=[],l=_.expr(s);return h.push("~function(){"),h.push('if(typeof({$var})!="undefined" && Object.prototype.toString.call({$var})==="[object Array]" && {$var}.length>0){ '.replace(/\{\$var\}/gi,l)),h.push("var iter=0;var length = 0;for (var k in "+l+") {++length;}"),h.push("for (var i in "+l+") {"),h.push("var smarty={};smarty.foreach={};"),h.push('smarty.foreach["'+u+'"] ={};'),h.push('smarty.foreach["'+u+'"].index= iter;'),h.push('smarty.foreach["'+u+'"].iteration= iter+1;'),h.push('smarty.foreach["'+u+'"].first= iter==0;'),h.push('smarty.foreach["'+u+'"].last= iter==length-1;'),h.push('smarty.foreach["'+u+'"].total= length;'),h.push("var "+c+"= "+l+"[i];"),r&&h.push(r+"= i;"),h.push("iter++;"),f.openEachTag++,h.join("\r\n")},"/if":function(){return"};"},"else":function(){return"}else{"},"if":function(e,t){var r,n,a,i,s,c,u="",h=function(){n="",a=!1,i="",s="",c="== 0"},l=function(){n=a?"("+n+i+") "+s+c:n,u+=n};h();var f=[];for(t.idx=0;t.idx<t.length;)f.push(o(t.idx,t[t.idx],t));for(var p in f)if(!this.needSkip(p)&&(r=f[p],!this.needSkip(r)))switch(r){case"is":a=!0;break;case"not":c="== 0"===c?"!= 0":"== 0";break;case"div":break;case"even":s="% 2 ";break;case"odd":c="== 0"===c?"!= 0":"== 0",s="% 2 ";break;case"by":i+=" / ";break;case"||":case"&&":l(),u+=r+" ",h();break;default:this.operators[r]!==void 0?n+=this.operators[r]+" ":a?i+=r+" ":n+=r+" "}l();var d="if("+u+"){";return e.match(/\{elseif\s+[^\}]*\}/i)&&(d="}else if("+u+"){"),d},literal:function(){return f.openLiteralTag++,""},"/literal":function(){return f.openLiteralTag--,""}},f.prototype.buildTagMatch=function(e,t){var n="";return e instanceof RegExp&&(e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e=e.source),n=n||t||"",RegExp(r(this._reMarker.startTag)+r(e)+r(this._reMarker.endTag),n)},f.prototype.operators={eq:"==",ne:"!=",neq:"!=",gt:">",lt:"<",ge:">=",gte:">=",le:"<=",lte:"<=",and:"&&",or:"||",mod:"%","==":"==","===":"===","!=":"!=",">":">","<":"<",">=":">=","<=":"<=","!":"!","%":"%","(":"(",")":")",0:0,"false":!1,"null":null,undefined:null}}),function(e){if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var t=module.exports||exports;e(t)}else if("function"==typeof define&&define.amd)define(["exports"],e);else{for(var r=document.getElementsByTagName("script"),n=[],a=0;r.length>a;a++)"remark-template"==r[a].getAttribute("type")&&n.push(r[a]);for(var i=0;n.length>i;i++){var s="__"+n[i].id+"__";window[s]=(new window.NC.reMarker).proc(n[i].innerHTML)}}}(function(){});